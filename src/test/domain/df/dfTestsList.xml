<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE TestsList SYSTEM "../../common/xml/listTests.dtd" [
	<!ENTITY % inline "#PCDATA|em|br|UL|LI|b">
	]>
	<TestsList> 
		<Test name="DF Service" skip="false">
			<TestClassName>test.domain.df.tests.TestDFService</TestClassName>
			<WhatTest> Tests accessing the DF agent by means of the DFService utility class.</WhatTest>
			<HowWorkTest> 
				The test uses the DFService class to:
				<UL>
	   			<LI>register with the DF;</LI>
	   			<LI>search the DF (he should find himself);</LI>
	   			<LI>deregister with the DF;</LI>
			    <LI>searche again the DF (he shouldn't find any agent);</LI>
			    </UL>			
		    </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
		<Test name="Light DF Service" skip="true">
			<TestClassName>test.domain.df.tests.TestLightDFService</TestClassName>
			<WhatTest> Tests accessing the DF agent by means of the LightDFService utility class.</WhatTest>
			<HowWorkTest> 
				The test uses the LightDFService class to:
				<UL>
	   			<LI>register with the DF;</LI>
	   			<LI>search the DF (he should find himself);</LI>
	   			<LI>deregister with the DF;</LI>
			    <LI>searche again the DF (he shouldn't find any agent);</LI>
			    </UL>			
		    </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
		<Test name="FIPA Management Onto DF" skip="flase">
			<TestClassName>test.domain.df.tests.TestFIPAManagementOntology_DF</TestClassName>
			<WhatTest> Tests actions in the FIPAManagementOntology related to the DF.</WhatTest>
			<HowWorkTest> 
				The test uses the FIPA management ontology to:
				<UL>
	   			<LI>register with the DF;</LI>
	   			<LI>search the DF (he should find himself);</LI>
	   			<LI>deregister with the DF;</LI>
			    <LI>searche again the DF (he shouldn't find any agent);</LI>
			    </UL>			
		    </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
		<Test name="Fedaration" skip="false">
			<TestClassName>test.domain.df.tests.TestFederation</TestClassName>
			<WhatTest> Tests DF federation and recursive search on federated DF.</WhatTest>
			<HowWorkTest> 
				<br><b>Load phase</b></br>
				<UL>
	   			<LI>Create another DF agent called DF1</LI>
	   			<LI>Register a DFD on DF1</LI>
	   		</UL>
	   		<br><b>Actual Test</b></br>
	   		<UL>
	   			<LI>Request DF1 to federate with the default DF</LI>
			    <LI>Searches the default DF specifying maxDepth == 1 (he should find 1 agent);</LI>
			  </UL>			
		    </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
		<Test name="Search Until Found" skip="false">
			<TestClassName>test.domain.df.tests.TestSearchUntilFound</TestClassName>
			<WhatTest> Tests the searchUntilFound() method of the DFService class.</WhatTest>
			<HowWorkTest> 
				The test performs the following operations:
				<UL>
	   			<LI>registers DFD1 with the DF</LI>
	   			<LI>launches another agent that will register a DFD2 after 5 sec and DFD12 after other 10 sec</LI>
	   			<LI>calls searchUntilFound(template1 matching DFD1) (this should immediately return DFD1)</LI>
			    <LI>calls searchUntilFound(template2 matching DFD2) (this should return DFD2 as soos as the other agent registers DFD2);</LI>
			    <LI>calls searchUntilFound(template3 not matching, timeout == 5 sec) (this should return null when the timeout expires);</LI>
			    <LI>waits some time to check that no further notifications are received from the DF.</LI>
			  </UL>			
		  </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
		<Test name="DF Subscription" skip="false">
			<TestClassName>test.domain.df.tests.TestDFSubscription</TestClassName>
			<WhatTest> Tests the subscription service supported by the JADE DF.</WhatTest>
			<HowWorkTest> 
				<br><b>Load phase</b></br>
				<UL>
	   			<LI>register a DFD with the DF</LI>
	   			</UL>
	   			<br><b>Actual Test</b></br>
	   			<UL>
	   			<LI>subscribe to the DF (should immediately get back a notification);</LI>
			    <LI>After 5 sec register 2nd DFD (matching) with the DF (should get back another notification;</LI>
			    <LI>After 10 sec register 3rd DFD (not matching) with the DF (should not get back anything;</LI>
			    <LI>After 15 sec modify 2nd DFD (still matching) with the DF (should get back another notification;</LI>
			    <LI>After 20 sec modify 3rd DFD (now matching) with the DF (should get back another notification;</LI>
			    </UL>			
		    </HowWorkTest>
			<WhenTestPass> The test passes if all the above operations have the expected effect and no exception is thrown.</WhenTestPass>
		</Test>		
	</TestsList>

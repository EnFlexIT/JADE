<pre>
<tt>
<font color=#0000FF>package</font> examples.jsp;

<font color=#0000FF>import</font> jade.core.*;
<font color=#0000FF>import</font> jade.core.behaviours.*;
<font color=#0000FF>import</font> jade.lang.acl.*;

<font color=#9A1900>/**
 * This agent is to be used in a JSP page. It just sends
 * messages to a buffer agent.
 */</font>
<font color=#0000FF>public</font> <font color=#0000FF>class</font> Snooper <font color=#0000FF>extends</font> Agent {
    <font color=#0000FF>private</font> ACLMessage msg;

    <font color=#0000FF>public</font> Snooper() {
	<font color=#9A1900>// Create the message to send to the client
</font>	msg = <font color=#0000FF>new</font> ACLMessage(ACLMessage.INFORM);
    }

    <font color=#9A1900>/**
     * The method that will be invoked in the JSP page.
     * @param str the message to send to the client
     */</font>
    <font color=#0000FF>public</font> <font color=#009900>void</font> snoop(String str) {
	<font color=#9A1900>// JADE 2.0: 
</font>      <font color=#9A1900>// getHap() cannot be moved in the constructor because it would not work!
</font>	msg.clearAllReceiver();
</font>	msg.addReceiver(<font color=#0000FF>new</font> AID(<font color=#FF0000>"buffer@"</font>+getHap()));
	<font color=#9A1900>// JADE 1.4:
</font>	<font color=#9A1900>//msg.addDest("buffer");
</font>	msg.setContent(str);
	send(msg);
    }

  <font color=#9A1900>/* just for testing 
protected void setup() {
  snoop("CIAO");
}*/</font>
}
</tt>
</pre>

<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>How to use the Bit-efficient ACL encoding with JADE</title>
  </head>

  <body bgcolor="#FFFFFF" >
    <h1>How to use the Bit-efficient ACL (BE-ACL) encoding with JADE</h1>

<p><i>Author: <A HREF="mailto:Heikki.J.Helin@sonera.com">Heikki Helin</A> 
(<A HREF="http://www.sonera.com">Sonera</A>), 
Mikko Laukkanen (<A HREF="http://www.sonera.com">Sonera</A>), 
</i><br></p>

<p><i>Date: March 29, 2001 </i><br></p>

<p><i>Java platform: Sun JDK 1.2 Linux </i><br></p>

<p><i><A HREF="http://sharon.cselt.it/projects/jade/">JADE</a> version 2.2 </i><br></p>


<p>Since JADE 2.2, 
FIPA-ACL Message codecs can be plugged and activated via the command line on 
any JADE container. By default, the platform uses a String ACL codec
However, Bit-efficient codec can be used as an alternative FIPA-ACL encoding.
This tutorial describes how to install and use the
the bit-efficient ACL codec with JADE. 
The bit-efficient ACL codec is implementation of experimental FIPA standard
number <A HREF="http://www.fipa.org/specs/fipa00069">00069</A>
(FIPA ACL Message Representation in Bit-Efficient Specification).
</p>

<h2>Installation</h2>

<p> In order to install BE-ACL the following steps must be performed:</p>
<ul>
      <li>The BE-ACL must be downloaded from the <a target=new href="http://sharon.cselt.it/projects/jade">JADE</a> download page.
      <li>after downloading you <b>MUST</b> unzip the BE-ACL 
          package under the root of the jade distribution tree. 
          You should end having a hierarchy like jade/add-ons/BEFipaMessage
</ul>

<h2>Compiling</h2>

<p>The Jade Makefile rules don't take the BE-ACL into account. For
handling the compilation process of the BE-ACL you have to use the Makefile
located in the BEFipaMessage directory. The following rules are available:</p>
    <ul>
      <li>make be - compiles the BE-ACL classes 
      <li>make belib - creates the BEFipaMessage.jar archive 
      <li>make clean - removes the compiled classes and the .jar archive
      <li>make doc - creates javadoc of BE-ACL
      <li>make batch - creates batch files equivalent to make rules:
	<ul>
	  <li>makebe.bat - on windows same as make be
	  <li>makebelib.bat - on windows same as make belib
	  <li>makebeclean.bat - on windows same as make clean
	</ul>
    </ul>

<h2>Configuration and Usage</h2>

<p>In order to use BE-ACL codec, the BEFipaMessage.jar must be added
to the classpath when starting( either by including it into the
$CLASSPATH environment variable - %CLASSPATH% under windows or by specifying it
on the command line ). Notice that the BE-ACL codec must be launched
on all the JADE containers</p>

<p>Here is an example of how you would start the platform assuming you are in the root of the Jade directory:</p>

<code>
java jade.Boot -classpath ./lib/jade.jar:./lib/jadeTools.jar:./lib/iiop.jar:./add-ons/BEFipaMessage/lib/BEFipaMessage.jar jade.Boot -aclcodec sonera.fipa.acl.BitEffACLCodec</code> (for Unix) <br>or<br>

<code>
java jade.Boot -classpath ./lib/jade.jar;./lib/jadeTools.jar;./lib/iiop.jar;./add-ons/BEFipaMessage/lib/BEFipaMessage.jar jade.Boot -aclcodec sonera.fipa.acl.BitEffACLCodec</code> (for Windows) <br>

  
<p> More aclcodecs can be indicated separated by a ';'

<h2>Examples</h2> 
<h4>Using BE-ACL in Jade</h4>
When an agent wants to send a bit-efficiently encoded message, all it has
to do is to indicate this in the message envelope. For example 
(assuming <code>e</code> is the message envelope):
<br><br><code>
e.setAclRepresentation("fipa.acl.rep.bitefficient.std");
</code><br><br>
and Jade takes care of the rest. When receiving bit-efficiently encoded
messages, the agent does not have to do anything, Jade is working for him.

<h4>Using off-line examples</h4>
<p>The BE-ACL package comes with simple off-line Encoder and Decoder
that can be used to explore features BE-ACL encoding. The DummyEncoder
reads ACL messages from standard input and writes bit-efficiently
encoded messages to standard output. For example, assume that file
<code>test.msg</code> contains one or more ACL messages encoded
using string-based representation, then
<br><br><code>
java DummyEncoder < test.msg > be.msg
</code><br><br>
encodes these messages to file <code>be.msg</code>. 
(Notice that <code>BEFipaMessage.jar</code> and <code>jade.jar</code> 
must be added to the classpath).<br><br>
Similarly, the DummyDecoder reads bit-efficiently encoded messages from 
standard input and writes the messages to standard output using
string-based encoding. For example, 
<br><br><code>
java DummyDecoder < be.msg > new.msg
</code><br><br>
writes the messages to file <code>new.msg</code>. The contents of 
<code>test.msg</code> and <code>new.msg</code> should be the same.
However, this is not necessarily true.e The number of white space
might be different as well as the order of message parameters (if 
<code>new.msg</code> is encoded and decoded again, then the new 
result should be exactly the same).

<p>By default, these applications does not use dynamic codetable.
However, it is possible to give an additional command line parameter 
to each of these programs that defines the size of the code table.
For example:
<br><br><code>
java DummyEncoder 9 < test.msg > be.msg
</code><br><br>
and
<br><br><code>
java DummyDecoder 9 < be.msg > new.msg
</code><br><br>
In the example above, code table size 9 is used (i.e., 2^9 entries in 
the code table). The size must be between 8 and 16. Notice that exactly
same code table size must be given to both applications, otherwise 
decoding fails.
<HR>
<CENTER>
<P><FONT FACE="Arial"><FONT SIZE=-1><A HREF="http://sharon.cselt.it/projects/jade/">JADE</A>
is a trademark of
<A HREF="http://www.cselt.it">CSELT</A>. <A HREF="http://sharon.cselt.it/projects/jade/">JADE</A>
has been developed jointly by <A HREF="http://www.cselt.it">CSELT</A> and
the <A HREF="http://www.ce.unipr.it">Computer Engineering Group</A> of
the <A HREF="http://www.unipr.it">University of Parma</A>.</FONT></CENTER></CENTER>
<CENTER><FONT SIZE=-1>The BE-ACL codec implementation  
was developed by <A HREF="http://www.sonera.com">Sonera Corporation</A>. 
</FONT></CENTER>
<BR>&nbsp;
  </body>
</html>
